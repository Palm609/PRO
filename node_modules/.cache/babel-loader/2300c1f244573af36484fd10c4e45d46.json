{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _greekLetters = require('../models/greek-letters');\n\nvar greekLetters = _interopRequireWildcard(_greekLetters);\n\nvar _logger = require('../logger');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar MathFormatter = function () {\n  function MathFormatter(ast) {\n    _classCallCheck(this, MathFormatter);\n\n    this.ast = ast;\n  }\n\n  _createClass(MathFormatter, [{\n    key: 'format',\n    value: function format() {\n      var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.ast;\n\n      if (root == null) {\n        return '';\n      }\n\n      switch (root.type) {\n        case 'operator':\n          return this.operator(root);\n\n        case 'number':\n          return this.number(root);\n\n        case 'function':\n          return this.function(root);\n\n        case 'variable':\n          return this.variable(root);\n\n        case 'equation':\n          return this.equation(root);\n\n        case 'subscript':\n          return this.subscript(root);\n\n        case 'uni-operator':\n          return this.uni_operator(root);\n\n        default:\n          throw Error('Unexpected type: ' + root.type);\n      }\n    }\n  }, {\n    key: 'operator',\n    value: function operator(root) {\n      var op = root.operator;\n\n      switch (op) {\n        case 'plus':\n          op = '+';\n          break;\n\n        case 'minus':\n          op = '-';\n          break;\n\n        case 'multiply':\n          op = '*';\n          break;\n\n        case 'divide':\n          op = '/';\n          break;\n\n        case 'modulus':\n          op = '%';\n          break;\n\n        case 'exponent':\n          op = '^';\n          break;\n\n        default:\n      }\n\n      var lhs = this.format(root.lhs);\n      var rhs = this.format(root.rhs);\n      var precedensOrder = [['modulus'], ['exponent'], ['multiply', 'divide'], ['plus', 'minus']];\n\n      var higherPrecedens = function higherPrecedens(a, b) {\n        var depth = function depth(op) {\n          return precedensOrder.findIndex(function (val) {\n            return val.includes(op);\n          });\n        };\n\n        return depth(b) > depth(a);\n      };\n\n      var shouldHaveParenthesis = function shouldHaveParenthesis(child) {\n        return child.type == 'operator' && higherPrecedens(root.operator, child.operator);\n      };\n\n      var lhsParen = shouldHaveParenthesis(root.lhs);\n      var rhsParen = shouldHaveParenthesis(root.rhs); // Special case for division\n\n      rhsParen = rhsParen || op == '/' && root.rhs.type == 'operator';\n\n      if (root.operator == 'exponent') {\n        if (root.rhs.type == 'number' && root.rhs.value < 0) {\n          rhsParen = true;\n        }\n      }\n\n      lhs = lhsParen ? '(' + lhs + ')' : lhs;\n      rhs = rhsParen ? '(' + rhs + ')' : rhs;\n      return lhs + op + rhs;\n    }\n  }, {\n    key: 'number',\n    value: function number(root) {\n      return '' + root.value;\n    }\n  }, {\n    key: 'function',\n    value: function _function(root) {\n      return root.value + '(' + this.format(root.content) + ')';\n    }\n  }, {\n    key: 'variable',\n    value: function variable(root) {\n      var greekLetter = greekLetters.getSymbol(root.value);\n\n      if (greekLetter) {\n        return greekLetter;\n      }\n\n      return '' + root.value;\n    }\n  }, {\n    key: 'equation',\n    value: function equation(root) {\n      return this.format(root.lhs) + '=' + this.format(root.rhs);\n    }\n  }, {\n    key: 'subscript',\n    value: function subscript(root) {\n      if (root.subscript.type == 'variable' && root.subscript.value.length == 1) {\n        return this.format(root.base) + '_' + this.format(root.subscript);\n      }\n\n      return this.format(root.base) + '_(' + this.format(root.subscript) + ')';\n    }\n  }, {\n    key: 'uni_operator',\n    value: function uni_operator(root) {\n      if (root.operator == 'minus') {\n        return '-' + this.format(root.value);\n      }\n\n      return this.format(root.value);\n    }\n  }]);\n\n  return MathFormatter;\n}();\n\nexports.default = MathFormatter;","map":{"version":3,"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_greekLetters","require","greekLetters","_interopRequireWildcard","_logger","obj","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","MathFormatter","ast","format","root","arguments","undefined","type","operator","number","function","variable","equation","subscript","uni_operator","Error","op","lhs","rhs","precedensOrder","higherPrecedens","a","b","depth","findIndex","val","includes","shouldHaveParenthesis","child","lhsParen","rhsParen","_function","content","greekLetter","getSymbol","base"],"sources":["C:/Users/never/OneDrive/เดสก์ท็อป/ReactMumer-main/node_modules/algebra-latex/lib/formatters/FormatterMath.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _greekLetters = require('../models/greek-letters');\n\nvar greekLetters = _interopRequireWildcard(_greekLetters);\n\nvar _logger = require('../logger');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MathFormatter = function () {\n  function MathFormatter(ast) {\n    _classCallCheck(this, MathFormatter);\n\n    this.ast = ast;\n  }\n\n  _createClass(MathFormatter, [{\n    key: 'format',\n    value: function format() {\n      var root = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.ast;\n\n      if (root == null) {\n        return '';\n      }\n\n      switch (root.type) {\n        case 'operator':\n          return this.operator(root);\n        case 'number':\n          return this.number(root);\n        case 'function':\n          return this.function(root);\n        case 'variable':\n          return this.variable(root);\n        case 'equation':\n          return this.equation(root);\n        case 'subscript':\n          return this.subscript(root);\n        case 'uni-operator':\n          return this.uni_operator(root);\n        default:\n          throw Error('Unexpected type: ' + root.type);\n      }\n    }\n  }, {\n    key: 'operator',\n    value: function operator(root) {\n      var op = root.operator;\n\n      switch (op) {\n        case 'plus':\n          op = '+';\n          break;\n        case 'minus':\n          op = '-';\n          break;\n        case 'multiply':\n          op = '*';\n          break;\n        case 'divide':\n          op = '/';\n          break;\n        case 'modulus':\n          op = '%';\n          break;\n        case 'exponent':\n          op = '^';\n          break;\n        default:\n      }\n\n      var lhs = this.format(root.lhs);\n      var rhs = this.format(root.rhs);\n\n      var precedensOrder = [['modulus'], ['exponent'], ['multiply', 'divide'], ['plus', 'minus']];\n\n      var higherPrecedens = function higherPrecedens(a, b) {\n        var depth = function depth(op) {\n          return precedensOrder.findIndex(function (val) {\n            return val.includes(op);\n          });\n        };\n\n        return depth(b) > depth(a);\n      };\n\n      var shouldHaveParenthesis = function shouldHaveParenthesis(child) {\n        return child.type == 'operator' && higherPrecedens(root.operator, child.operator);\n      };\n\n      var lhsParen = shouldHaveParenthesis(root.lhs);\n      var rhsParen = shouldHaveParenthesis(root.rhs);\n\n      // Special case for division\n      rhsParen = rhsParen || op == '/' && root.rhs.type == 'operator';\n\n      if (root.operator == 'exponent') {\n        if (root.rhs.type == 'number' && root.rhs.value < 0) {\n          rhsParen = true;\n        }\n      }\n\n      lhs = lhsParen ? '(' + lhs + ')' : lhs;\n      rhs = rhsParen ? '(' + rhs + ')' : rhs;\n\n      return lhs + op + rhs;\n    }\n  }, {\n    key: 'number',\n    value: function number(root) {\n      return '' + root.value;\n    }\n  }, {\n    key: 'function',\n    value: function _function(root) {\n      return root.value + '(' + this.format(root.content) + ')';\n    }\n  }, {\n    key: 'variable',\n    value: function variable(root) {\n      var greekLetter = greekLetters.getSymbol(root.value);\n\n      if (greekLetter) {\n        return greekLetter;\n      }\n\n      return '' + root.value;\n    }\n  }, {\n    key: 'equation',\n    value: function equation(root) {\n      return this.format(root.lhs) + '=' + this.format(root.rhs);\n    }\n  }, {\n    key: 'subscript',\n    value: function subscript(root) {\n      if (root.subscript.type == 'variable' && root.subscript.value.length == 1) {\n        return this.format(root.base) + '_' + this.format(root.subscript);\n      }\n\n      return this.format(root.base) + '_(' + this.format(root.subscript) + ')';\n    }\n  }, {\n    key: 'uni_operator',\n    value: function uni_operator(root) {\n      if (root.operator == 'minus') {\n        return '-' + this.format(root.value);\n      }\n\n      return this.format(root.value);\n    }\n  }]);\n\n  return MathFormatter;\n}();\n\nexports.default = MathFormatter;"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAG,YAAY;EAAE,SAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;MAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;MAA2BE,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;MAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;MAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;MAA4Bb,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;IAA4D;EAAE;;EAAC,OAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;IAAE,IAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;IAAqD,IAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;IAA4C,OAAOF,WAAP;EAAqB,CAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,aAAa,GAAGC,OAAO,CAAC,yBAAD,CAA3B;;AAEA,IAAIC,YAAY,GAAGC,uBAAuB,CAACH,aAAD,CAA1C;;AAEA,IAAII,OAAO,GAAGH,OAAO,CAAC,WAAD,CAArB;;AAEA,SAASE,uBAAT,CAAiCE,GAAjC,EAAsC;EAAE,IAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;IAAE,OAAOD,GAAP;EAAa,CAA1C,MAAgD;IAAE,IAAIE,MAAM,GAAG,EAAb;;IAAiB,IAAIF,GAAG,IAAI,IAAX,EAAiB;MAAE,KAAK,IAAIV,GAAT,IAAgBU,GAAhB,EAAqB;QAAE,IAAIxB,MAAM,CAACkB,SAAP,CAAiBS,cAAjB,CAAgCC,IAAhC,CAAqCJ,GAArC,EAA0CV,GAA1C,CAAJ,EAAoDY,MAAM,CAACZ,GAAD,CAAN,GAAcU,GAAG,CAACV,GAAD,CAAjB;MAAyB;IAAE;;IAACY,MAAM,CAACG,OAAP,GAAiBL,GAAjB;IAAsB,OAAOE,MAAP;EAAgB;AAAE;;AAE7Q,SAASI,eAAT,CAAyBC,QAAzB,EAAmChB,WAAnC,EAAgD;EAAE,IAAI,EAAEgB,QAAQ,YAAYhB,WAAtB,CAAJ,EAAwC;IAAE,MAAM,IAAIiB,SAAJ,CAAc,mCAAd,CAAN;EAA2D;AAAE;;AAEzJ,IAAIC,aAAa,GAAG,YAAY;EAC9B,SAASA,aAAT,CAAuBC,GAAvB,EAA4B;IAC1BJ,eAAe,CAAC,IAAD,EAAOG,aAAP,CAAf;;IAEA,KAAKC,GAAL,GAAWA,GAAX;EACD;;EAED9B,YAAY,CAAC6B,aAAD,EAAgB,CAAC;IAC3BnB,GAAG,EAAE,QADsB;IAE3BX,KAAK,EAAE,SAASgC,MAAT,GAAkB;MACvB,IAAIC,IAAI,GAAGC,SAAS,CAAC5B,MAAV,GAAmB,CAAnB,IAAwB4B,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKH,GAApF;;MAEA,IAAIE,IAAI,IAAI,IAAZ,EAAkB;QAChB,OAAO,EAAP;MACD;;MAED,QAAQA,IAAI,CAACG,IAAb;QACE,KAAK,UAAL;UACE,OAAO,KAAKC,QAAL,CAAcJ,IAAd,CAAP;;QACF,KAAK,QAAL;UACE,OAAO,KAAKK,MAAL,CAAYL,IAAZ,CAAP;;QACF,KAAK,UAAL;UACE,OAAO,KAAKM,QAAL,CAAcN,IAAd,CAAP;;QACF,KAAK,UAAL;UACE,OAAO,KAAKO,QAAL,CAAcP,IAAd,CAAP;;QACF,KAAK,UAAL;UACE,OAAO,KAAKQ,QAAL,CAAcR,IAAd,CAAP;;QACF,KAAK,WAAL;UACE,OAAO,KAAKS,SAAL,CAAeT,IAAf,CAAP;;QACF,KAAK,cAAL;UACE,OAAO,KAAKU,YAAL,CAAkBV,IAAlB,CAAP;;QACF;UACE,MAAMW,KAAK,CAAC,sBAAsBX,IAAI,CAACG,IAA5B,CAAX;MAhBJ;IAkBD;EA3B0B,CAAD,EA4BzB;IACDzB,GAAG,EAAE,UADJ;IAEDX,KAAK,EAAE,SAASqC,QAAT,CAAkBJ,IAAlB,EAAwB;MAC7B,IAAIY,EAAE,GAAGZ,IAAI,CAACI,QAAd;;MAEA,QAAQQ,EAAR;QACE,KAAK,MAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF,KAAK,OAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF,KAAK,UAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF,KAAK,QAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF,KAAK,SAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF,KAAK,UAAL;UACEA,EAAE,GAAG,GAAL;UACA;;QACF;MAnBF;;MAsBA,IAAIC,GAAG,GAAG,KAAKd,MAAL,CAAYC,IAAI,CAACa,GAAjB,CAAV;MACA,IAAIC,GAAG,GAAG,KAAKf,MAAL,CAAYC,IAAI,CAACc,GAAjB,CAAV;MAEA,IAAIC,cAAc,GAAG,CAAC,CAAC,SAAD,CAAD,EAAc,CAAC,UAAD,CAAd,EAA4B,CAAC,UAAD,EAAa,QAAb,CAA5B,EAAoD,CAAC,MAAD,EAAS,OAAT,CAApD,CAArB;;MAEA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;QACnD,IAAIC,KAAK,GAAG,SAASA,KAAT,CAAeP,EAAf,EAAmB;UAC7B,OAAOG,cAAc,CAACK,SAAf,CAAyB,UAAUC,GAAV,EAAe;YAC7C,OAAOA,GAAG,CAACC,QAAJ,CAAaV,EAAb,CAAP;UACD,CAFM,CAAP;QAGD,CAJD;;QAMA,OAAOO,KAAK,CAACD,CAAD,CAAL,GAAWC,KAAK,CAACF,CAAD,CAAvB;MACD,CARD;;MAUA,IAAIM,qBAAqB,GAAG,SAASA,qBAAT,CAA+BC,KAA/B,EAAsC;QAChE,OAAOA,KAAK,CAACrB,IAAN,IAAc,UAAd,IAA4Ba,eAAe,CAAChB,IAAI,CAACI,QAAN,EAAgBoB,KAAK,CAACpB,QAAtB,CAAlD;MACD,CAFD;;MAIA,IAAIqB,QAAQ,GAAGF,qBAAqB,CAACvB,IAAI,CAACa,GAAN,CAApC;MACA,IAAIa,QAAQ,GAAGH,qBAAqB,CAACvB,IAAI,CAACc,GAAN,CAApC,CA7C6B,CA+C7B;;MACAY,QAAQ,GAAGA,QAAQ,IAAId,EAAE,IAAI,GAAN,IAAaZ,IAAI,CAACc,GAAL,CAASX,IAAT,IAAiB,UAArD;;MAEA,IAAIH,IAAI,CAACI,QAAL,IAAiB,UAArB,EAAiC;QAC/B,IAAIJ,IAAI,CAACc,GAAL,CAASX,IAAT,IAAiB,QAAjB,IAA6BH,IAAI,CAACc,GAAL,CAAS/C,KAAT,GAAiB,CAAlD,EAAqD;UACnD2D,QAAQ,GAAG,IAAX;QACD;MACF;;MAEDb,GAAG,GAAGY,QAAQ,GAAG,MAAMZ,GAAN,GAAY,GAAf,GAAqBA,GAAnC;MACAC,GAAG,GAAGY,QAAQ,GAAG,MAAMZ,GAAN,GAAY,GAAf,GAAqBA,GAAnC;MAEA,OAAOD,GAAG,GAAGD,EAAN,GAAWE,GAAlB;IACD;EA9DA,CA5ByB,EA2FzB;IACDpC,GAAG,EAAE,QADJ;IAEDX,KAAK,EAAE,SAASsC,MAAT,CAAgBL,IAAhB,EAAsB;MAC3B,OAAO,KAAKA,IAAI,CAACjC,KAAjB;IACD;EAJA,CA3FyB,EAgGzB;IACDW,GAAG,EAAE,UADJ;IAEDX,KAAK,EAAE,SAAS4D,SAAT,CAAmB3B,IAAnB,EAAyB;MAC9B,OAAOA,IAAI,CAACjC,KAAL,GAAa,GAAb,GAAmB,KAAKgC,MAAL,CAAYC,IAAI,CAAC4B,OAAjB,CAAnB,GAA+C,GAAtD;IACD;EAJA,CAhGyB,EAqGzB;IACDlD,GAAG,EAAE,UADJ;IAEDX,KAAK,EAAE,SAASwC,QAAT,CAAkBP,IAAlB,EAAwB;MAC7B,IAAI6B,WAAW,GAAG5C,YAAY,CAAC6C,SAAb,CAAuB9B,IAAI,CAACjC,KAA5B,CAAlB;;MAEA,IAAI8D,WAAJ,EAAiB;QACf,OAAOA,WAAP;MACD;;MAED,OAAO,KAAK7B,IAAI,CAACjC,KAAjB;IACD;EAVA,CArGyB,EAgHzB;IACDW,GAAG,EAAE,UADJ;IAEDX,KAAK,EAAE,SAASyC,QAAT,CAAkBR,IAAlB,EAAwB;MAC7B,OAAO,KAAKD,MAAL,CAAYC,IAAI,CAACa,GAAjB,IAAwB,GAAxB,GAA8B,KAAKd,MAAL,CAAYC,IAAI,CAACc,GAAjB,CAArC;IACD;EAJA,CAhHyB,EAqHzB;IACDpC,GAAG,EAAE,WADJ;IAEDX,KAAK,EAAE,SAAS0C,SAAT,CAAmBT,IAAnB,EAAyB;MAC9B,IAAIA,IAAI,CAACS,SAAL,CAAeN,IAAf,IAAuB,UAAvB,IAAqCH,IAAI,CAACS,SAAL,CAAe1C,KAAf,CAAqBM,MAArB,IAA+B,CAAxE,EAA2E;QACzE,OAAO,KAAK0B,MAAL,CAAYC,IAAI,CAAC+B,IAAjB,IAAyB,GAAzB,GAA+B,KAAKhC,MAAL,CAAYC,IAAI,CAACS,SAAjB,CAAtC;MACD;;MAED,OAAO,KAAKV,MAAL,CAAYC,IAAI,CAAC+B,IAAjB,IAAyB,IAAzB,GAAgC,KAAKhC,MAAL,CAAYC,IAAI,CAACS,SAAjB,CAAhC,GAA8D,GAArE;IACD;EARA,CArHyB,EA8HzB;IACD/B,GAAG,EAAE,cADJ;IAEDX,KAAK,EAAE,SAAS2C,YAAT,CAAsBV,IAAtB,EAA4B;MACjC,IAAIA,IAAI,CAACI,QAAL,IAAiB,OAArB,EAA8B;QAC5B,OAAO,MAAM,KAAKL,MAAL,CAAYC,IAAI,CAACjC,KAAjB,CAAb;MACD;;MAED,OAAO,KAAKgC,MAAL,CAAYC,IAAI,CAACjC,KAAjB,CAAP;IACD;EARA,CA9HyB,CAAhB,CAAZ;;EAyIA,OAAO8B,aAAP;AACD,CAjJmB,EAApB;;AAmJA/B,OAAO,CAAC2B,OAAR,GAAkBI,aAAlB"},"metadata":{},"sourceType":"script"}