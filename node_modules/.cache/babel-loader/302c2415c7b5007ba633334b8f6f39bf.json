{"ast":null,"code":"import { clone } from '../../utils/object.js';\nimport { factory } from '../../utils/factory.js';\nimport { format } from '../../utils/string.js';\nvar name = 'eigs';\nvar dependencies = ['config', 'typed', 'matrix', 'addScalar', 'equal', 'subtract', 'abs', 'atan', 'cos', 'sin', 'multiplyScalar', 'inv', 'bignumber', 'multiply', 'add'];\nexport var createEigs = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    config,\n    typed,\n    matrix,\n    addScalar,\n    subtract,\n    equal,\n    abs,\n    atan,\n    cos,\n    sin,\n    multiplyScalar,\n    inv,\n    bignumber,\n    multiply,\n    add\n  } = _ref;\n  /**\n   * Compute eigenvalue and eigenvector of a real symmetric matrix.\n   * Only applicable to two dimensional symmetric matrices. Uses Jacobi\n   * Algorithm. Matrix containing mixed type ('number', 'bignumber', 'fraction')\n   * of elements are not supported. Input matrix or 2D array should contain all elements\n   * of either 'number', 'bignumber' or 'fraction' type. For 'number' and 'fraction', the\n   * eigenvalues are of 'number' type. For 'bignumber' the eigenvalues are of ''bignumber' type.\n   * Eigenvectors are always of 'number' type.\n   *\n   * Syntax:\n   *\n   *     math.eigs(x)\n   *\n   * Examples:\n   *\n   *     const H = [[5, 2.3], [2.3, 1]]\n   *     const ans = math.eigs(H) // returns {values: [E1,E2...sorted], vectors: [v1,v2.... corresponding vectors as columns]}\n   *     const E = ans.values\n   *     const U = ans.vectors\n   *     math.multiply(H, math.column(U, 0)) // returns math.multiply(E[0], math.column(U, 0))\n   *     const UTxHxU = math.multiply(math.transpose(U), H, U) // rotates H to the eigen-representation\n   *     E[0] == UTxHxU[0][0]  // returns true\n   * See also:\n   *\n   *     inv\n   *\n   * @param {Array | Matrix} x  Matrix to be diagonalized\n   * @return {{values: Array, vectors: Array} | {values: Matrix, vectors: Matrix}} Object containing eigenvalues (Array or Matrix) and eigenvectors (2D Array/Matrix with eigenvectors as columns).\n   */\n\n  return typed('eigs', {\n    Array: function Array(x) {\n      // check array size\n      var mat = matrix(x);\n      var size = mat.size();\n\n      if (size.length !== 2 || size[0] !== size[1]) {\n        throw new RangeError('Matrix must be square ' + '(size: ' + format(size) + ')');\n      } // use dense 2D matrix implementation\n\n\n      var ans = checkAndSubmit(mat, size[0]);\n      return {\n        values: ans[0],\n        vectors: ans[1]\n      };\n    },\n    Matrix: function Matrix(x) {\n      // use dense 2D array implementation\n      // dense matrix\n      var size = x.size();\n\n      if (size.length !== 2 || size[0] !== size[1]) {\n        throw new RangeError('Matrix must be square ' + '(size: ' + format(size) + ')');\n      }\n\n      var ans = checkAndSubmit(x, size[0]);\n      return {\n        values: matrix(ans[0]),\n        vectors: matrix(ans[1])\n      };\n    }\n  }); // Is the matrix\n  // symmetric ?\n\n  function isSymmetric(x, n) {\n    for (var i = 0; i < n; i++) {\n      for (var j = i; j < n; j++) {\n        // not symmtric\n        if (!equal(x[i][j], x[j][i])) {\n          throw new TypeError('Input matrix is not symmetric');\n        }\n      }\n    }\n  } // check input for possible problems\n  // and perform diagonalization efficiently for\n  // specific type of number\n\n\n  function checkAndSubmit(x, n) {\n    var type = x.datatype(); // type check\n\n    if (type === undefined) {\n      type = x.getDataType();\n    }\n\n    if (type !== 'number' && type !== 'BigNumber' && type !== 'Fraction') {\n      if (type === 'mixed') {\n        throw new TypeError('Mixed matrix element type is not supported');\n      } else {\n        throw new TypeError('Matrix element type not supported (' + type + ')');\n      }\n    } else {\n      isSymmetric(x.toArray(), n);\n    } // perform efficient calculation for 'numbers'\n\n\n    if (type === 'number') {\n      return diag(x.toArray());\n    } else if (type === 'Fraction') {\n      var xArr = x.toArray(); // convert fraction to numbers\n\n      for (var i = 0; i < n; i++) {\n        for (var j = i; j < n; j++) {\n          xArr[i][j] = xArr[i][j].valueOf();\n          xArr[j][i] = xArr[i][j];\n        }\n      }\n\n      return diag(x.toArray());\n    } else if (type === 'BigNumber') {\n      return diagBig(x.toArray());\n    }\n  } // diagonalization implementation for number (efficient)\n\n\n  function diag(x) {\n    var N = x.length;\n    var e0 = Math.abs(config.epsilon / N);\n    var psi;\n    var Sij = new Array(N); // Sij is Identity Matrix\n\n    for (var i = 0; i < N; i++) {\n      Sij[i] = createArray(N, 0);\n      Sij[i][i] = 1.0;\n    } // initial error\n\n\n    var Vab = getAij(x);\n\n    while (Math.abs(Vab[1]) >= Math.abs(e0)) {\n      var _i = Vab[0][0];\n      var j = Vab[0][1];\n      psi = getTheta(x[_i][_i], x[j][j], x[_i][j]);\n      x = x1(x, psi, _i, j);\n      Sij = Sij1(Sij, psi, _i, j);\n      Vab = getAij(x);\n    }\n\n    var Ei = createArray(N, 0); // eigenvalues\n\n    for (var _i2 = 0; _i2 < N; _i2++) {\n      Ei[_i2] = x[_i2][_i2];\n    }\n\n    return sorting(clone(Ei), clone(Sij));\n  } // diagonalization implementation for bigNumber\n\n\n  function diagBig(x) {\n    var N = x.length;\n    var e0 = abs(config.epsilon / N);\n    var psi;\n    var Sij = new Array(N); // Sij is Identity Matrix\n\n    for (var i = 0; i < N; i++) {\n      Sij[i] = createArray(N, 0);\n      Sij[i][i] = 1.0;\n    } // initial error\n\n\n    var Vab = getAijBig(x);\n\n    while (abs(Vab[1]) >= abs(e0)) {\n      var _i3 = Vab[0][0];\n      var j = Vab[0][1];\n      psi = getThetaBig(x[_i3][_i3], x[j][j], x[_i3][j]);\n      x = x1Big(x, psi, _i3, j);\n      Sij = Sij1Big(Sij, psi, _i3, j);\n      Vab = getAijBig(x);\n    }\n\n    var Ei = createArray(N, 0); // eigenvalues\n\n    for (var _i4 = 0; _i4 < N; _i4++) {\n      Ei[_i4] = x[_i4][_i4];\n    } // return [clone(Ei), clone(Sij)]\n\n\n    return sorting(clone(Ei), clone(Sij));\n  } // get angle\n\n\n  function getTheta(aii, ajj, aij) {\n    var denom = ajj - aii;\n\n    if (Math.abs(denom) <= config.epsilon) {\n      return Math.PI / 4;\n    } else {\n      return 0.5 * Math.atan(2 * aij / (ajj - aii));\n    }\n  } // get angle\n\n\n  function getThetaBig(aii, ajj, aij) {\n    var denom = subtract(ajj, aii);\n\n    if (abs(denom) <= config.epsilon) {\n      return bignumber(-1).acos().div(4);\n    } else {\n      return multiplyScalar(0.5, atan(multiply(2, aij, inv(denom))));\n    }\n  } // update eigvec\n\n\n  function Sij1(Sij, theta, i, j) {\n    var N = Sij.length;\n    var c = Math.cos(theta);\n    var s = Math.sin(theta);\n    var Ski = createArray(N, 0);\n    var Skj = createArray(N, 0);\n\n    for (var k = 0; k < N; k++) {\n      Ski[k] = c * Sij[k][i] - s * Sij[k][j];\n      Skj[k] = s * Sij[k][i] + c * Sij[k][j];\n    }\n\n    for (var _k = 0; _k < N; _k++) {\n      Sij[_k][i] = Ski[_k];\n      Sij[_k][j] = Skj[_k];\n    }\n\n    return Sij;\n  } // update eigvec for overlap\n\n\n  function Sij1Big(Sij, theta, i, j) {\n    var N = Sij.length;\n    var c = cos(theta);\n    var s = sin(theta);\n    var Ski = createArray(N, bignumber(0));\n    var Skj = createArray(N, bignumber(0));\n\n    for (var k = 0; k < N; k++) {\n      Ski[k] = subtract(multiplyScalar(c, Sij[k][i]), multiplyScalar(s, Sij[k][j]));\n      Skj[k] = addScalar(multiplyScalar(s, Sij[k][i]), multiplyScalar(c, Sij[k][j]));\n    }\n\n    for (var _k2 = 0; _k2 < N; _k2++) {\n      Sij[_k2][i] = Ski[_k2];\n      Sij[_k2][j] = Skj[_k2];\n    }\n\n    return Sij;\n  } // update matrix\n\n\n  function x1Big(Hij, theta, i, j) {\n    var N = Hij.length;\n    var c = bignumber(cos(theta));\n    var s = bignumber(sin(theta));\n    var c2 = multiplyScalar(c, c);\n    var s2 = multiplyScalar(s, s);\n    var Aki = createArray(N, bignumber(0));\n    var Akj = createArray(N, bignumber(0)); // 2cs Hij\n\n    var csHij = multiply(bignumber(2), c, s, Hij[i][j]); //  Aii\n\n    var Aii = addScalar(subtract(multiplyScalar(c2, Hij[i][i]), csHij), multiplyScalar(s2, Hij[j][j]));\n    var Ajj = add(multiplyScalar(s2, Hij[i][i]), csHij, multiplyScalar(c2, Hij[j][j])); // 0  to i\n\n    for (var k = 0; k < N; k++) {\n      Aki[k] = subtract(multiplyScalar(c, Hij[i][k]), multiplyScalar(s, Hij[j][k]));\n      Akj[k] = addScalar(multiplyScalar(s, Hij[i][k]), multiplyScalar(c, Hij[j][k]));\n    } // Modify Hij\n\n\n    Hij[i][i] = Aii;\n    Hij[j][j] = Ajj;\n    Hij[i][j] = bignumber(0);\n    Hij[j][i] = bignumber(0); // 0  to i\n\n    for (var _k3 = 0; _k3 < N; _k3++) {\n      if (_k3 !== i && _k3 !== j) {\n        Hij[i][_k3] = Aki[_k3];\n        Hij[_k3][i] = Aki[_k3];\n        Hij[j][_k3] = Akj[_k3];\n        Hij[_k3][j] = Akj[_k3];\n      }\n    }\n\n    return Hij;\n  } // update matrix\n\n\n  function x1(Hij, theta, i, j) {\n    var N = Hij.length;\n    var c = Math.cos(theta);\n    var s = Math.sin(theta);\n    var c2 = c * c;\n    var s2 = s * s;\n    var Aki = createArray(N, 0);\n    var Akj = createArray(N, 0); //  Aii\n\n    var Aii = c2 * Hij[i][i] - 2 * c * s * Hij[i][j] + s2 * Hij[j][j];\n    var Ajj = s2 * Hij[i][i] + 2 * c * s * Hij[i][j] + c2 * Hij[j][j]; // 0  to i\n\n    for (var k = 0; k < N; k++) {\n      Aki[k] = c * Hij[i][k] - s * Hij[j][k];\n      Akj[k] = s * Hij[i][k] + c * Hij[j][k];\n    } // Modify Hij\n\n\n    Hij[i][i] = Aii;\n    Hij[j][j] = Ajj;\n    Hij[i][j] = 0;\n    Hij[j][i] = 0; // 0  to i\n\n    for (var _k4 = 0; _k4 < N; _k4++) {\n      if (_k4 !== i && _k4 !== j) {\n        Hij[i][_k4] = Aki[_k4];\n        Hij[_k4][i] = Aki[_k4];\n        Hij[j][_k4] = Akj[_k4];\n        Hij[_k4][j] = Akj[_k4];\n      }\n    }\n\n    return Hij;\n  } // get max off-diagonal value from Upper Diagonal\n\n\n  function getAij(Mij) {\n    var N = Mij.length;\n    var maxMij = 0;\n    var maxIJ = [0, 1];\n\n    for (var i = 0; i < N; i++) {\n      for (var j = i + 1; j < N; j++) {\n        if (Math.abs(maxMij) < Math.abs(Mij[i][j])) {\n          maxMij = Math.abs(Mij[i][j]);\n          maxIJ = [i, j];\n        }\n      }\n    }\n\n    return [maxIJ, maxMij];\n  } // get max off-diagonal value from Upper Diagonal\n\n\n  function getAijBig(Mij) {\n    var N = Mij.length;\n    var maxMij = 0;\n    var maxIJ = [0, 1];\n\n    for (var i = 0; i < N; i++) {\n      for (var j = i + 1; j < N; j++) {\n        if (abs(maxMij) < abs(Mij[i][j])) {\n          maxMij = abs(Mij[i][j]);\n          maxIJ = [i, j];\n        }\n      }\n    }\n\n    return [maxIJ, maxMij];\n  } // sort results\n\n\n  function sorting(E, S) {\n    var N = E.length;\n    var Ef = Array(N);\n    var Sf = Array(N);\n\n    for (var k = 0; k < N; k++) {\n      Sf[k] = Array(N);\n    }\n\n    for (var i = 0; i < N; i++) {\n      var minID = 0;\n      var minE = E[0];\n\n      for (var j = 0; j < E.length; j++) {\n        if (E[j] < minE) {\n          minID = j;\n          minE = E[minID];\n        }\n      }\n\n      Ef[i] = E.splice(minID, 1)[0];\n\n      for (var _k5 = 0; _k5 < N; _k5++) {\n        Sf[_k5][i] = S[_k5][minID];\n\n        S[_k5].splice(minID, 1);\n      }\n    }\n\n    return [clone(Ef), clone(Sf)];\n  }\n  /**\n   * Create an array of a certain size and fill all items with an initial value\n   * @param {number} size\n   * @param {number} value\n   * @return {number[]}\n   */\n\n\n  function createArray(size, value) {\n    // TODO: as soon as all browsers support Array.fill, use that instead (IE doesn't support it)\n    var array = new Array(size);\n\n    for (var i = 0; i < size; i++) {\n      array[i] = value;\n    }\n\n    return array;\n  }\n});","map":{"version":3,"names":["clone","factory","format","name","dependencies","createEigs","_ref","config","typed","matrix","addScalar","subtract","equal","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add","Array","x","mat","size","length","RangeError","ans","checkAndSubmit","values","vectors","Matrix","isSymmetric","n","i","j","TypeError","type","datatype","undefined","getDataType","toArray","diag","xArr","valueOf","diagBig","N","e0","Math","epsilon","psi","Sij","createArray","Vab","getAij","_i","getTheta","x1","Sij1","Ei","_i2","sorting","getAijBig","_i3","getThetaBig","x1Big","Sij1Big","_i4","aii","ajj","aij","denom","PI","acos","div","theta","c","s","Ski","Skj","k","_k","_k2","Hij","c2","s2","Aki","Akj","csHij","Aii","Ajj","_k3","_k4","Mij","maxMij","maxIJ","E","S","Ef","Sf","minID","minE","splice","_k5","value","array"],"sources":["C:/Users/never/OneDrive/เดสก์ท็อป/ReactMumer-main/node_modules/mathjs/lib/esm/function/matrix/eigs.js"],"sourcesContent":["import { clone } from '../../utils/object.js';\nimport { factory } from '../../utils/factory.js';\nimport { format } from '../../utils/string.js';\nvar name = 'eigs';\nvar dependencies = ['config', 'typed', 'matrix', 'addScalar', 'equal', 'subtract', 'abs', 'atan', 'cos', 'sin', 'multiplyScalar', 'inv', 'bignumber', 'multiply', 'add'];\nexport var createEigs = /* #__PURE__ */factory(name, dependencies, (_ref) => {\n  var {\n    config,\n    typed,\n    matrix,\n    addScalar,\n    subtract,\n    equal,\n    abs,\n    atan,\n    cos,\n    sin,\n    multiplyScalar,\n    inv,\n    bignumber,\n    multiply,\n    add\n  } = _ref;\n\n  /**\n   * Compute eigenvalue and eigenvector of a real symmetric matrix.\n   * Only applicable to two dimensional symmetric matrices. Uses Jacobi\n   * Algorithm. Matrix containing mixed type ('number', 'bignumber', 'fraction')\n   * of elements are not supported. Input matrix or 2D array should contain all elements\n   * of either 'number', 'bignumber' or 'fraction' type. For 'number' and 'fraction', the\n   * eigenvalues are of 'number' type. For 'bignumber' the eigenvalues are of ''bignumber' type.\n   * Eigenvectors are always of 'number' type.\n   *\n   * Syntax:\n   *\n   *     math.eigs(x)\n   *\n   * Examples:\n   *\n   *     const H = [[5, 2.3], [2.3, 1]]\n   *     const ans = math.eigs(H) // returns {values: [E1,E2...sorted], vectors: [v1,v2.... corresponding vectors as columns]}\n   *     const E = ans.values\n   *     const U = ans.vectors\n   *     math.multiply(H, math.column(U, 0)) // returns math.multiply(E[0], math.column(U, 0))\n   *     const UTxHxU = math.multiply(math.transpose(U), H, U) // rotates H to the eigen-representation\n   *     E[0] == UTxHxU[0][0]  // returns true\n   * See also:\n   *\n   *     inv\n   *\n   * @param {Array | Matrix} x  Matrix to be diagonalized\n   * @return {{values: Array, vectors: Array} | {values: Matrix, vectors: Matrix}} Object containing eigenvalues (Array or Matrix) and eigenvectors (2D Array/Matrix with eigenvectors as columns).\n   */\n  return typed('eigs', {\n    Array: function Array(x) {\n      // check array size\n      var mat = matrix(x);\n      var size = mat.size();\n\n      if (size.length !== 2 || size[0] !== size[1]) {\n        throw new RangeError('Matrix must be square ' + '(size: ' + format(size) + ')');\n      } // use dense 2D matrix implementation\n\n\n      var ans = checkAndSubmit(mat, size[0]);\n      return {\n        values: ans[0],\n        vectors: ans[1]\n      };\n    },\n    Matrix: function Matrix(x) {\n      // use dense 2D array implementation\n      // dense matrix\n      var size = x.size();\n\n      if (size.length !== 2 || size[0] !== size[1]) {\n        throw new RangeError('Matrix must be square ' + '(size: ' + format(size) + ')');\n      }\n\n      var ans = checkAndSubmit(x, size[0]);\n      return {\n        values: matrix(ans[0]),\n        vectors: matrix(ans[1])\n      };\n    }\n  }); // Is the matrix\n  // symmetric ?\n\n  function isSymmetric(x, n) {\n    for (var i = 0; i < n; i++) {\n      for (var j = i; j < n; j++) {\n        // not symmtric\n        if (!equal(x[i][j], x[j][i])) {\n          throw new TypeError('Input matrix is not symmetric');\n        }\n      }\n    }\n  } // check input for possible problems\n  // and perform diagonalization efficiently for\n  // specific type of number\n\n\n  function checkAndSubmit(x, n) {\n    var type = x.datatype(); // type check\n\n    if (type === undefined) {\n      type = x.getDataType();\n    }\n\n    if (type !== 'number' && type !== 'BigNumber' && type !== 'Fraction') {\n      if (type === 'mixed') {\n        throw new TypeError('Mixed matrix element type is not supported');\n      } else {\n        throw new TypeError('Matrix element type not supported (' + type + ')');\n      }\n    } else {\n      isSymmetric(x.toArray(), n);\n    } // perform efficient calculation for 'numbers'\n\n\n    if (type === 'number') {\n      return diag(x.toArray());\n    } else if (type === 'Fraction') {\n      var xArr = x.toArray(); // convert fraction to numbers\n\n      for (var i = 0; i < n; i++) {\n        for (var j = i; j < n; j++) {\n          xArr[i][j] = xArr[i][j].valueOf();\n          xArr[j][i] = xArr[i][j];\n        }\n      }\n\n      return diag(x.toArray());\n    } else if (type === 'BigNumber') {\n      return diagBig(x.toArray());\n    }\n  } // diagonalization implementation for number (efficient)\n\n\n  function diag(x) {\n    var N = x.length;\n    var e0 = Math.abs(config.epsilon / N);\n    var psi;\n    var Sij = new Array(N); // Sij is Identity Matrix\n\n    for (var i = 0; i < N; i++) {\n      Sij[i] = createArray(N, 0);\n      Sij[i][i] = 1.0;\n    } // initial error\n\n\n    var Vab = getAij(x);\n\n    while (Math.abs(Vab[1]) >= Math.abs(e0)) {\n      var _i = Vab[0][0];\n      var j = Vab[0][1];\n      psi = getTheta(x[_i][_i], x[j][j], x[_i][j]);\n      x = x1(x, psi, _i, j);\n      Sij = Sij1(Sij, psi, _i, j);\n      Vab = getAij(x);\n    }\n\n    var Ei = createArray(N, 0); // eigenvalues\n\n    for (var _i2 = 0; _i2 < N; _i2++) {\n      Ei[_i2] = x[_i2][_i2];\n    }\n\n    return sorting(clone(Ei), clone(Sij));\n  } // diagonalization implementation for bigNumber\n\n\n  function diagBig(x) {\n    var N = x.length;\n    var e0 = abs(config.epsilon / N);\n    var psi;\n    var Sij = new Array(N); // Sij is Identity Matrix\n\n    for (var i = 0; i < N; i++) {\n      Sij[i] = createArray(N, 0);\n      Sij[i][i] = 1.0;\n    } // initial error\n\n\n    var Vab = getAijBig(x);\n\n    while (abs(Vab[1]) >= abs(e0)) {\n      var _i3 = Vab[0][0];\n      var j = Vab[0][1];\n      psi = getThetaBig(x[_i3][_i3], x[j][j], x[_i3][j]);\n      x = x1Big(x, psi, _i3, j);\n      Sij = Sij1Big(Sij, psi, _i3, j);\n      Vab = getAijBig(x);\n    }\n\n    var Ei = createArray(N, 0); // eigenvalues\n\n    for (var _i4 = 0; _i4 < N; _i4++) {\n      Ei[_i4] = x[_i4][_i4];\n    } // return [clone(Ei), clone(Sij)]\n\n\n    return sorting(clone(Ei), clone(Sij));\n  } // get angle\n\n\n  function getTheta(aii, ajj, aij) {\n    var denom = ajj - aii;\n\n    if (Math.abs(denom) <= config.epsilon) {\n      return Math.PI / 4;\n    } else {\n      return 0.5 * Math.atan(2 * aij / (ajj - aii));\n    }\n  } // get angle\n\n\n  function getThetaBig(aii, ajj, aij) {\n    var denom = subtract(ajj, aii);\n\n    if (abs(denom) <= config.epsilon) {\n      return bignumber(-1).acos().div(4);\n    } else {\n      return multiplyScalar(0.5, atan(multiply(2, aij, inv(denom))));\n    }\n  } // update eigvec\n\n\n  function Sij1(Sij, theta, i, j) {\n    var N = Sij.length;\n    var c = Math.cos(theta);\n    var s = Math.sin(theta);\n    var Ski = createArray(N, 0);\n    var Skj = createArray(N, 0);\n\n    for (var k = 0; k < N; k++) {\n      Ski[k] = c * Sij[k][i] - s * Sij[k][j];\n      Skj[k] = s * Sij[k][i] + c * Sij[k][j];\n    }\n\n    for (var _k = 0; _k < N; _k++) {\n      Sij[_k][i] = Ski[_k];\n      Sij[_k][j] = Skj[_k];\n    }\n\n    return Sij;\n  } // update eigvec for overlap\n\n\n  function Sij1Big(Sij, theta, i, j) {\n    var N = Sij.length;\n    var c = cos(theta);\n    var s = sin(theta);\n    var Ski = createArray(N, bignumber(0));\n    var Skj = createArray(N, bignumber(0));\n\n    for (var k = 0; k < N; k++) {\n      Ski[k] = subtract(multiplyScalar(c, Sij[k][i]), multiplyScalar(s, Sij[k][j]));\n      Skj[k] = addScalar(multiplyScalar(s, Sij[k][i]), multiplyScalar(c, Sij[k][j]));\n    }\n\n    for (var _k2 = 0; _k2 < N; _k2++) {\n      Sij[_k2][i] = Ski[_k2];\n      Sij[_k2][j] = Skj[_k2];\n    }\n\n    return Sij;\n  } // update matrix\n\n\n  function x1Big(Hij, theta, i, j) {\n    var N = Hij.length;\n    var c = bignumber(cos(theta));\n    var s = bignumber(sin(theta));\n    var c2 = multiplyScalar(c, c);\n    var s2 = multiplyScalar(s, s);\n    var Aki = createArray(N, bignumber(0));\n    var Akj = createArray(N, bignumber(0)); // 2cs Hij\n\n    var csHij = multiply(bignumber(2), c, s, Hij[i][j]); //  Aii\n\n    var Aii = addScalar(subtract(multiplyScalar(c2, Hij[i][i]), csHij), multiplyScalar(s2, Hij[j][j]));\n    var Ajj = add(multiplyScalar(s2, Hij[i][i]), csHij, multiplyScalar(c2, Hij[j][j])); // 0  to i\n\n    for (var k = 0; k < N; k++) {\n      Aki[k] = subtract(multiplyScalar(c, Hij[i][k]), multiplyScalar(s, Hij[j][k]));\n      Akj[k] = addScalar(multiplyScalar(s, Hij[i][k]), multiplyScalar(c, Hij[j][k]));\n    } // Modify Hij\n\n\n    Hij[i][i] = Aii;\n    Hij[j][j] = Ajj;\n    Hij[i][j] = bignumber(0);\n    Hij[j][i] = bignumber(0); // 0  to i\n\n    for (var _k3 = 0; _k3 < N; _k3++) {\n      if (_k3 !== i && _k3 !== j) {\n        Hij[i][_k3] = Aki[_k3];\n        Hij[_k3][i] = Aki[_k3];\n        Hij[j][_k3] = Akj[_k3];\n        Hij[_k3][j] = Akj[_k3];\n      }\n    }\n\n    return Hij;\n  } // update matrix\n\n\n  function x1(Hij, theta, i, j) {\n    var N = Hij.length;\n    var c = Math.cos(theta);\n    var s = Math.sin(theta);\n    var c2 = c * c;\n    var s2 = s * s;\n    var Aki = createArray(N, 0);\n    var Akj = createArray(N, 0); //  Aii\n\n    var Aii = c2 * Hij[i][i] - 2 * c * s * Hij[i][j] + s2 * Hij[j][j];\n    var Ajj = s2 * Hij[i][i] + 2 * c * s * Hij[i][j] + c2 * Hij[j][j]; // 0  to i\n\n    for (var k = 0; k < N; k++) {\n      Aki[k] = c * Hij[i][k] - s * Hij[j][k];\n      Akj[k] = s * Hij[i][k] + c * Hij[j][k];\n    } // Modify Hij\n\n\n    Hij[i][i] = Aii;\n    Hij[j][j] = Ajj;\n    Hij[i][j] = 0;\n    Hij[j][i] = 0; // 0  to i\n\n    for (var _k4 = 0; _k4 < N; _k4++) {\n      if (_k4 !== i && _k4 !== j) {\n        Hij[i][_k4] = Aki[_k4];\n        Hij[_k4][i] = Aki[_k4];\n        Hij[j][_k4] = Akj[_k4];\n        Hij[_k4][j] = Akj[_k4];\n      }\n    }\n\n    return Hij;\n  } // get max off-diagonal value from Upper Diagonal\n\n\n  function getAij(Mij) {\n    var N = Mij.length;\n    var maxMij = 0;\n    var maxIJ = [0, 1];\n\n    for (var i = 0; i < N; i++) {\n      for (var j = i + 1; j < N; j++) {\n        if (Math.abs(maxMij) < Math.abs(Mij[i][j])) {\n          maxMij = Math.abs(Mij[i][j]);\n          maxIJ = [i, j];\n        }\n      }\n    }\n\n    return [maxIJ, maxMij];\n  } // get max off-diagonal value from Upper Diagonal\n\n\n  function getAijBig(Mij) {\n    var N = Mij.length;\n    var maxMij = 0;\n    var maxIJ = [0, 1];\n\n    for (var i = 0; i < N; i++) {\n      for (var j = i + 1; j < N; j++) {\n        if (abs(maxMij) < abs(Mij[i][j])) {\n          maxMij = abs(Mij[i][j]);\n          maxIJ = [i, j];\n        }\n      }\n    }\n\n    return [maxIJ, maxMij];\n  } // sort results\n\n\n  function sorting(E, S) {\n    var N = E.length;\n    var Ef = Array(N);\n    var Sf = Array(N);\n\n    for (var k = 0; k < N; k++) {\n      Sf[k] = Array(N);\n    }\n\n    for (var i = 0; i < N; i++) {\n      var minID = 0;\n      var minE = E[0];\n\n      for (var j = 0; j < E.length; j++) {\n        if (E[j] < minE) {\n          minID = j;\n          minE = E[minID];\n        }\n      }\n\n      Ef[i] = E.splice(minID, 1)[0];\n\n      for (var _k5 = 0; _k5 < N; _k5++) {\n        Sf[_k5][i] = S[_k5][minID];\n\n        S[_k5].splice(minID, 1);\n      }\n    }\n\n    return [clone(Ef), clone(Sf)];\n  }\n  /**\n   * Create an array of a certain size and fill all items with an initial value\n   * @param {number} size\n   * @param {number} value\n   * @return {number[]}\n   */\n\n\n  function createArray(size, value) {\n    // TODO: as soon as all browsers support Array.fill, use that instead (IE doesn't support it)\n    var array = new Array(size);\n\n    for (var i = 0; i < size; i++) {\n      array[i] = value;\n    }\n\n    return array;\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}